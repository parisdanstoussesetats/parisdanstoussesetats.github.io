<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

<div style="width: 750px;">
    <canvas id="barstacked-chart" width="900" height="400"></canvas>
</div>

<script>

/*

REPRENDRE LES DATA

*/

    
var ctx = document.getElementById("barstacked-chart").getContext('2d'); 

var arrondissements = ["75001","75002","75003","75004","75005","75006","75007","75008","75009","75010","75011","75012","75013","75014","75015","75016","75017","75018","75019","75020"];

var rotw = ["0.33","0.8","0.92","1","0.68","0.57","0.13","0.22","0.35","0.29","0.41","0.3","0.07","0.55","0.05","0.43","0.47","0.31","0.28","0.29"]

var africans = ["0.03","0","0.15","0","0.07","0","0","0.04","0.03","0.31","0.22","0","0.02","0.05","0.02","0","0.31","1","0.34","0.19"]

var antillais = ["0","0.3","0","0","0","0.32","0.46","0","0.17","0.2","0.86","0.25","0.25","0.81","0.18","0.29","0.36","0.7","0.32","1"]

var asiatiques =["0.56","0.61","0.54","0.38","0.47","0.47","0.47","0.38","0.51","0.35","0.59","0.58","1","0.62","0.67","0.58","0.56","0.32","0.57","0.55"]

var americains_sud_centrale = ["0.35","0.19","0.32","0.39","0.84","0.59","0.14","0.12","0.47","0.3","1","0.31","0.23","0.25","0.16","0","0.49","0.32","0.29","0.1"]

var europeens = ["0.6","0.63","0.86","0.84","0.85","0.96","1","0.75","0.86","0.44","0.82","0.86","0.69","0.8","0.92","0.95","0.89","0.59","0.62","0.69"]

var indiens_pakistanais =["0.14","0.4","0.13","0.07","0.52","0.29","0.3","0.28","0.37","1","0.32","0.31","0.31","0.44","0.71","0.31","0.42","0.36","0.29","0.35"]

var maghrebins =["0.15","0.32","1","0.22","0.6","0.17","0.16","0.16","0.26","0.45","0.66","0.39","0.44","0.47","0.53","0.15","0.49","0.82","0.45","0.87"]


var options = {
	responsive: true,
    			maintainAspectRatio: false,
    			legend: {
            		position: 'right',
            		labels: {boxWidth:40,
            		fontSize:11}
            	},
            	title: {
		            display: true,
		            text: 'Diversité culinaire des arrondissements parisiens:le XIème au top, le VIIIéme bon dernier',
		            fontSize:18,
		            fontFamily:'Arial'
		        },
	scales: {
    xAxes: [{   
                gridLines: {
                    display:false
                },
            stacked: true,
            scaleLabel: {
                    display: true,
                    labelString: 'Arrondissement'
                }
    }],
    
    yAxes: [
            {   id: "restaurants_",
                gridLines: {
                    display:false
                }, 
                ticks: {
                     beginAtZero:true
                },
                stacked: true,
                position: "left",
                scaleLabel: {
                    display: true,
                    labelString: 'Score obtenu pour la diversité culinaire'
                }
            }]
}
}


var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
    	labels: arrondissements,
        datasets: [
            {
            label: "Note restaurants asiatiques",
            data: asiatiques,
            backgroundColor: 
                '#589FE0',
            borderWidth: 1,
            type: "bar",
            fill: false},
            {
            label: "Note restaurants europeens (hors France)",
            data: europeens,
            backgroundColor: 
                '#1F77B4',
            borderWidth: 1,
            type: "bar",
            fill: false},
            {
            label: "Note restaurants indiens pakistanais et moyen-orientaux",
            data: indiens_pakistanais,
            backgroundColor: 
                '#FFBE90',
            borderWidth: 1,
            type: "bar",
            fill: false},
            {
            label: "Note restaurants d'Amerique centrale et du sud",
            data: americains_sud_centrale,
            backgroundColor: 
                '#00DCA6',
            borderWidth: 1,
            type: "bar",
            fill: false},
            {
            label: "Note restaurants maghrebins",
            data: maghrebins,
            backgroundColor: 
                '#FF483A',
            borderWidth: 1,
            type: "bar",
            fill: false},
            {
            label: 'Note restaurants africains',
            data: africans,
            backgroundColor: 
                '#FA8C00',
            fillOpacity: .3,
            borderWidth: 1,
            type: "bar",
            stacked: true,
            fill: false},
            {
            label: 'Note restaurants du monde ',
            data: rotw,
            backgroundColor: 
                '#8471B0',
            borderWidth: 1,
            type: "bar",
            stacked: true,
            fill: false},
            {
            label: "Note restaurants antillais",
            data: antillais,
            backgroundColor: 
                '#D10047',
            borderWidth: 1,
            type: "bar",
            fill: false}
        ]
    },
    options: options
}
);
</script>